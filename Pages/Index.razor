@page "/"
@implements IAsyncDisposable

<div id="presenter">
    <svg id="back-art" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40">
        <g id="the-x" fill="#000000">
            <path id="Combined-Shape" d="M0 38.59l2.83-2.83 1.41 1.41L1.41 40H0v-1.41zM0 1.4l2.83 2.83 1.41-1.41L1.41 0H0v1.41zM38.59 40l-2.83-2.83 1.41-1.41L40 38.59V40h-1.41zM40 1.41l-2.83 2.83-1.41-1.41L38.59 0H40v1.41zM20 18.6l2.83-2.83 1.41 1.41L21.41 20l2.83 2.83-1.41 1.41L20 21.41l-2.83 2.83-1.41-1.41L18.59 20l-2.83-2.83 1.41-1.41L20 18.59z" />
        </g>
    </svg>
    <div class="p-layer p-layer-1">
        <div class="animate-container"><span class="animate letters p-large">HAMZI</span></div>
        <div class="animate-container"><span class="animate letters p-large">ISSAM</span></div>
        <div class="animate-container"><span class="animate letters p-large">ALSHEIKH</span></div>
    </div>
    <div class="p-layer p-layer-2">
        <div class="animate-s-container">
            <span class="animate letters p-large mx--5">Software Developer</span>
        </div>
        <div class="animate-s-container">
            <span class="animate letters p-large mx--5">Mechatronics Engineer</span>
        </div>
    </div>
    <div class="p-layer p-layer-3">
        <span class="animate eff-el eff-el-1">&lt;/<span class="text-acc3">code</span>&gt;</span>
        <span class="animate eff-el eff-el-2"><i class="las la-robot"></i></span>
    </div>
    <div class="p-layer p-layer-4">
        <div class="animate f-text p-med">
            <p>
                If you stayed through this whole animation sequence,
                then i salute you,
                you're a gentleman and a scholar.
            </p>
            <p>
                Now, go checkout the rest of the site. (no pressure)
            </p>
        </div>
    </div>
    <div class="p-layer p-layer-5">
        <div class="m-auto">
            <Logo />
        </div>
    </div>
</div>

@code {
    [Inject] IJSRuntime JSRuntime { get; set; }

    IJSObjectReference AnimeJsModule;

    protected async override Task OnInitializedAsync()
    {
        AnimeJsModule = await JSRuntime.InvokeAsync<IJSObjectReference>("import", "./js/modules/animejsModule.js");
    }

    protected async override Task OnAfterRenderAsync(bool firstRender)
    {
        if (!firstRender)
        {
            await AnimeJsModule.InvokeVoidAsync("InitIntroTextAnimation");
        }
    }

    public async ValueTask DisposeAsync()
    {
        if (AnimeJsModule != null)
        {
            await AnimeJsModule.DisposeAsync();
        }
    }
}